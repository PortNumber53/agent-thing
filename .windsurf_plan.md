# Project Plan: AI Agent Manager

This document outlines the development plan for the AI Agent Manager application.

## Phase 1: Initial Setup

- [x] **Set up project structure**: Create directories for `internal` and `db`.
- [x] **Initialize Go module**: Set up `go.mod`.
- [x] **Create main application entry point**: `agent.go` in the project root.
- [x] **Set up a managed development environment**: Create a `Dockerfile` for a general-purpose Arch Linux development environment, managed directly by the agent.
- [x] **Set up database migrations**: Use `golang-migrate/migrate` and create a `Makefile` for managing migrations.
- [x] **Implement initial persona management**: Define the `Persona` struct and create a list of default personas.
- [x] **Create project tracking files**: Add `.windsurf_plan.md` and `CHANGELOG.md`.

## Phase 2: Frontend & Agent Core Refactor

- [x] **Web UI**: Create a simple frontend to interact with the agent manager.
- [x] **Migrate to React+Vite**: Replace the vanilla JS frontend with a modern React+Vite stack, pre-configured for Cloudflare Workers deployment.
- [x] **Implement SSH Key Management UI**: Add a dedicated UI for SSH key generation and management.
- [x] **Refactor Agent Memory**: Replace the naive conversation history with a more efficient summarization-based memory.
- [x] **Implement Direct Tool Execution**: Create a new JSON protocol and command dispatcher to allow the UI to execute tools directly, bypassing the LLM for better performance.
- [x] **Integrate Docker Go SDK**: Replace all shell-based `docker exec` commands with the official Go SDK for improved robustness and stability.

## Phase 3: Future Development

- [ ] **Deploy to Cloudflare**: Deploy the new React frontend to the Cloudflare Workers global network.
- [x] **Enhance Development Environment**: Added common developer packages to the `Dockerfile` to support coding-related tasks.
- [x] **Container Management UI**: Implemented a new UI for managing the Docker container (start, stop, rebuild, status).
- [x] **Implement Autonomous Execution**: The agent can now perform complex, multi-step tasks without user intervention.
- [x] **Implement Stateful Memory**: The agent now maintains a short-term memory of its actions and working directory.
- [x] **Implement Conversational Capabilities**: The agent can now ask for help when it is stuck.
- [ ] **Expand Toolset**:
        - [ ] Add tools for package installation.
    - [ ] Add more advanced file system manipulation tools.
- [ ] **API Layer**: Implement a REST or gRPC API to manage personas and the development environment.
- [ ] **Database Integration**: Store and manage personas in the Postgres database.
